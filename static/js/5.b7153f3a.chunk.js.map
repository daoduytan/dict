{"version":3,"sources":["state/rootContext.js","state/connect.js","pages/Homepage/Word.js","pages/Homepage/style.js","pages/WordsDone/useHooks.js","pages/WordsDone/index.js"],"names":["context","authContext","wordContext","connect","select","Component","props","newProps","forEach","s","values","state","useContext","rootContext","element","flatProps","ref","firestore","collection","ref1","newType","type","word","user","updateTypeDate","useState","w","setW","uid","style","position","to","key","color","status","theme","primary","text","number","flex","display","justifyContent","alignItems","paddingRight","day","Date","now","fontSize","fontStyle","fontWeight","fontFamily","font","family","moment","top","right","bottom","padding","icon","icons","check","size","secondary","onClick","doc","where","get","then","snapshot","empty","id","update","add","role","WordLine","styled","Link","border","HeadingWrap","div","space","enhance","loading","setLoading","words","setWords","useEffect","onSnapshot","docSnapshot","wordsDone","docs","push","data","useWordsDone","width","length","HeadingScreen","title","lineHeight","height","background","borderRadius","overflow","left","zIndex","map","i","Word"],"mappings":"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","file":"static/js/5.b7153f3a.chunk.js","sourcesContent":["import wordContext from './wordContext';\nimport authContext from './authContext';\n\nconst context = {\n  authContext,\n  wordContext\n};\n\nexport default context;\n","// @flow\nimport { forEach } from 'lodash/fp';\nimport React, { useContext } from 'react';\nimport rootContext from './rootContext';\n\nconst connect = select => Component => props => {\n  let newProps = {};\n\n  forEach(s => {\n    if (s.context) {\n      const { values, context } = s;\n\n      const state = useContext(rootContext[context]);\n\n      values.forEach(element => {\n        newProps = { ...newProps, [element]: state[element] };\n      });\n    }\n  }, select);\n\n  const flatProps = { ...props, ...newProps };\n\n  return <Component {...flatProps} />;\n};\n\nexport default connect;\n","import React, { useState } from 'react';\nimport moment from 'moment';\n\nimport { Icon } from '../../components';\nimport icons from '../../assets/icons';\nimport { firestore } from '../../api';\nimport theme from '../../configs/theme';\nimport { WordLine } from './style';\nimport connect from '../../state/connect';\n\nconst ref = firestore.collection('user');\nconst ref1 = firestore.collection('words_done');\n\ntype WordProps = {\n  word: {\n    word: String,\n    status: String,\n    number: Number,\n    id: String\n  },\n  user: {\n    uid: String\n  },\n  type: String,\n  updateTypeDate: Function\n};\n\nconst newType = type => {\n  if (type === 'today') {\n    return 'day';\n  }\n  if (type === 'day') {\n    return 'week';\n  }\n  if (type === 'week') {\n    return 'month';\n  }\n\n  return 'day';\n};\n\nconst Word = ({ word, type, user, updateTypeDate }: WordProps) => {\n  const [w, setW] = useState(word);\n\n  const { uid } = user;\n\n  const handleChangeType = () => {\n    ref\n      .doc(uid)\n      .collection('word_today')\n      .where('word', '==', w.word)\n      .get()\n      .then(snapshot => {\n        if (snapshot.empty) {\n          return null;\n        }\n\n        return snapshot.forEach(doc => {\n          ref\n            .doc(uid)\n            .collection('word_today')\n            .doc(doc.id)\n            .update({\n              type: newType(type)\n            });\n        });\n      });\n\n    setW({ ...w, type: newType(type) });\n\n    updateTypeDate({ ...w, type: newType(type) });\n\n    if (type === 'today') {\n      ref1.add({ ...word, uid, type: newType(type) });\n    } else {\n      ref1\n        .where('uid', '==', user.uid)\n        .where('id', '==', word.id)\n        .get()\n        .then(snapshot => {\n          if (snapshot.empty) {\n            return null;\n          }\n\n          return snapshot.forEach(doc => {\n            ref1.doc(doc.id).update({\n              type: newType(type)\n            });\n          });\n        });\n    }\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <WordLine\n        to={`/word/${w.word}`}\n        key={w.word}\n        style={{\n          color: w.status ? theme.color.primary : theme.color.text\n        }}\n      >\n        <span>{w.number + 1}.</span>\n        <div\n          style={{\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingRight: 50\n          }}\n        >\n          {w.word}\n          {w.day && Date.now() - w.day + 7 * 24 * 60 * 60 * 1000 > 0 && (\n            <div\n              style={{\n                color: theme.color.text,\n                fontSize: 14,\n                fontStyle: 'italic',\n                fontWeight: 600,\n                fontFamily: theme.font.family.primary\n              }}\n            >\n              {moment(Date.now()).to(moment(w.day + 7 * 24 * 60 * 60 * 1000))}\n            </div>\n          )}\n\n          {w.day && Date.now() - w.day + 7 * 24 * 60 * 60 * 1000 < 0 && (\n            <div\n              style={{\n                color: 'red',\n                fontSize: 16,\n                fontWeight: 400,\n                fontFamily: theme.font.family.primary\n              }}\n            >\n              Time out\n            </div>\n          )}\n        </div>\n      </WordLine>\n\n      {w.status && w.type !== type && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            padding: '0 15px',\n            display: 'flex',\n            alignItems: 'center'\n          }}\n        >\n          <Icon icon={icons.check} size={20} color={theme.color.secondary} />\n        </div>\n      )}\n\n      {w.status && w.type === type && w.type !== 'month' && (\n        <div\n          onClick={handleChangeType}\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            padding: '0 15px',\n            display: 'flex',\n            alignItems: 'center'\n          }}\n          role=\"presentation\"\n        >\n          <Icon icon={icons.right} size={20} color={theme.color.primary} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst select = [\n  { values: ['user'], context: 'authContext' },\n  {\n    values: ['updateTypeDate'],\n    context: 'wordContext'\n  }\n];\n\nexport default connect(select)(Word);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport theme from '../../configs/theme';\n\nconst WordLine = styled(Link)`\n  min-height: 70px;\n  display: flex;\n  align-items: center;\n  font-size: 25px;\n  font-weight: 700;\n  padding: 15px;\n  border-bottom: 1px solid ${theme.color.border};\n  font-family: ${theme.font.family.secondary};\n\n  span {\n    text-align: center;\n    display: inline-block;\n    width: 50px;\n    margin-right: 15px;\n    color: rgba(0, 0, 0, 0.4);\n  }\n`;\n\nconst HeadingWrap = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #fff;\n  padding: ${theme.size.space * 2}px ${theme.size.space * 2}px\n    ${theme.size.space}px ${theme.size.space * 2}px;\n`;\n\nconst Button = styled.div`\n  border: 1px solid ${theme.color.border};\n  height: 40px;\n  padding: 0 15px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background: #fff;\n`;\n\nexport { WordLine, HeadingWrap, Button };\n","import { useState, useEffect } from 'react';\nimport { firestore } from '../../api';\n\nconst ref = firestore.collection('words_done');\n\nconst useWordsDone = user => {\n  const [loading, setLoading] = useState(true);\n  const [words, setWords] = useState([]);\n\n  useEffect(() => {\n    const { uid } = user;\n\n    ref.where('uid', '==', uid).onSnapshot(docSnapshot => {\n      const wordsDone = [];\n      setLoading(true);\n      docSnapshot.forEach(docs => wordsDone.push(docs.data()));\n\n      setWords(wordsDone);\n      setLoading(false);\n    });\n  }, [user]);\n\n  return [loading, words];\n};\n\n// eslint-disable-next-line\nexport { useWordsDone };\n","import React from 'react';\nimport HeadingScreen from '../../components/HeadingScreen';\nimport { useWordsDone } from './useHooks';\nimport connect from '../../state/connect';\nimport { Loading, Layout } from '../../components';\nimport Word from '../Homepage/Word';\nimport theme from '../../configs/theme';\n\nconst WordsDone = ({ user }: { user: any }) => {\n  const [loading, words] = useWordsDone(user);\n\n  if (loading) return <Loading />;\n\n  const width = `${(words.length / 3000) * 100}%`;\n\n  return (\n    <Layout>\n      <HeadingScreen title=\"Words done\" />\n\n      <div style={{ padding: '10px 30px 20px' }}>\n        <h2 style={{ lineHeight: 1.5 }}>I have been learned vocabulary</h2>\n\n        <div\n          style={{\n            height: 50,\n            background: theme.color.secondary,\n            borderRadius: 10,\n            position: 'relative',\n            overflow: 'hidden',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <div\n            style={{\n              width,\n              height: 50,\n              background: theme.color.primary,\n              position: 'absolute',\n              left: 0\n            }}\n          ></div>\n          <span\n            style={{\n              position: 'relative',\n              zIndex: 10,\n              fontSize: 20,\n              fontWeight: 700,\n              fontFamily: theme.font.family.secondary\n            }}\n          >{`${words.length}/3000`}</span>\n        </div>\n      </div>\n\n      <div>\n        {words.map((w, i) => (\n          <Word\n            key={w.word}\n            word={{ ...w, number: i, type: 'month' }}\n            type=\"month\"\n          />\n        ))}\n      </div>\n    </Layout>\n  );\n};\n\nconst enhance = connect([{ values: ['user'], context: 'authContext' }]);\n\nexport default enhance(WordsDone);\n"],"sourceRoot":""}