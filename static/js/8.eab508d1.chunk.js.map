{"version":3,"sources":["state/rootContext.js","state/connect.js","pages/SettingNumber/SettingNumberForm.js","pages/SettingNumber/index.js"],"names":["context","authContext","wordContext","connect","select","Component","props","newProps","forEach","s","values","state","useContext","rootContext","element","flatProps","enhance","user","useState","loading","setLoading","localStorage","getItem","number","setNumber","useEffect","setItem","onSubmit","e","preventDefault","firestore","collection","doc","uid","set","style","display","padding","theme","size","space","gridGap","margin","type","block","placeholder","value","onChange","target","fontSize","fontWeight","textAlign","SettingNumber","title"],"mappings":"6JAQeA,EALC,CACdC,Y,MAAAA,EACAC,iB,mjBCoBaC,IApBC,SAAAC,GAAM,OAAI,SAAAC,GAAS,OAAI,SAAAC,GACrC,IAAIC,EAAW,GAEfC,kBAAQ,SAAAC,GACN,GAAIA,EAAET,QAAS,CAAC,IACNU,EAAoBD,EAApBC,OAAQV,EAAYS,EAAZT,QAEVW,EAAQC,qBAAWC,EAAYb,IAErCU,EAAOF,QAAQ,SAAAM,GACbP,EAAQ,KAAQA,EAAR,eAAmBO,EAAUH,EAAMG,SAG9CV,GAEH,IAAMW,EAAS,KAAQT,EAAR,GAAkBC,GAEjC,OAAO,kBAACF,EAAcU,O,iGC2CTC,EAFCb,YAAQ,CAAC,CAAEO,OAAQ,CAAC,QAASV,QAAS,gBAEvCgB,CAzDW,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,KAAmC,EAChCC,oBAAS,GADuB,mBACvDC,EADuD,KAC9CC,EAD8C,OAElCF,mBAAS,WAEnC,OADoBG,aAAaC,QAAQ,WACnB,KAJsC,mBAEvDC,EAFuD,KAE/CC,EAF+C,KAiB9DC,oBAAU,WACRJ,aAAaK,QAAQ,SAAUH,IAC9B,CAACA,IAMJ,OACE,0BACEI,SApBiB,SAAAC,GACnBA,EAAEC,iBACFT,GAAW,GACXU,IACGC,WAAW,QACXC,IAAIf,EAAKgB,KACTC,IAAI,CAAEX,WACTH,GAAW,IAcTe,MAAO,CACLC,QAAS,OACTC,QAA4B,EAAnBC,IAAMC,KAAKC,MACpBC,QAAS,GACTC,OAAQJ,IAAMC,KAAKC,QAGrB,kBAAC,IAAD,CACEG,KAAK,SACLJ,KAAK,QACLK,OAAK,EACLC,YAAY,SACZC,MAAOvB,EACPwB,SApBiB,SAAAnB,GACrBJ,EAAUI,EAAEoB,OAAOF,QAoBfX,MAAO,CACLc,SAAU,GACVC,WAAY,IACZC,UAAW,YAGf,kBAAC,IAAD,CAAQP,OAAK,EAACD,KAAK,UAAUJ,KAAK,QAAQpB,QAASA,GAAnD,oBC1CSiC,UAVO,WACpB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAeC,MAAM,wBAErB,kBAAC,EAAD","file":"static/js/8.eab508d1.chunk.js","sourcesContent":["import wordContext from './wordContext';\nimport authContext from './authContext';\n\nconst context = {\n  authContext,\n  wordContext\n};\n\nexport default context;\n","// @flow\nimport { forEach } from 'lodash/fp';\nimport React, { useContext } from 'react';\nimport rootContext from './rootContext';\n\nconst connect = select => Component => props => {\n  let newProps = {};\n\n  forEach(s => {\n    if (s.context) {\n      const { values, context } = s;\n\n      const state = useContext(rootContext[context]);\n\n      values.forEach(element => {\n        newProps = { ...newProps, [element]: state[element] };\n      });\n    }\n  }, select);\n\n  const flatProps = { ...props, ...newProps };\n\n  return <Component {...flatProps} />;\n};\n\nexport default connect;\n","import React, { useState, useEffect } from 'react';\n\nimport { firestore } from '../../api';\nimport { Input, Button } from '../../components';\nimport theme from '../../configs/theme';\nimport connect from '../../state/connect';\n\ntype SettingNumberFormProps = { user: any };\nconst SettingNumberForm = ({ user }: SettingNumberFormProps) => {\n  const [loading, setLoading] = useState(false);\n  const [number, setNumber] = useState(() => {\n    const localNumber = localStorage.getItem('number');\n    return localNumber || 10;\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    firestore\n      .collection('user')\n      .doc(user.uid)\n      .set({ number });\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    localStorage.setItem('number', number);\n  }, [number]);\n\n  const onChangeNumber = e => {\n    setNumber(e.target.value);\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      style={{\n        display: 'grid',\n        padding: theme.size.space * 2,\n        gridGap: 15,\n        margin: theme.size.space\n      }}\n    >\n      <Input\n        type=\"number\"\n        size=\"large\"\n        block\n        placeholder=\"Ex. 10\"\n        value={number}\n        onChange={onChangeNumber}\n        style={{\n          fontSize: 18,\n          fontWeight: 700,\n          textAlign: 'center'\n        }}\n      />\n      <Button block type=\"primary\" size=\"large\" loading={loading}>\n        Change number\n      </Button>\n    </form>\n  );\n};\n\nconst enhance = connect([{ values: ['user'], context: 'authContext' }]);\n\nexport default enhance(SettingNumberForm);\n","import React from 'react';\nimport { Layout, HeadingScreen } from '../../components';\nimport SettingNumberForm from './SettingNumberForm';\n\nconst SettingNumber = () => {\n  return (\n    <Layout>\n      <HeadingScreen title=\"Setting number word\" />\n\n      <SettingNumberForm />\n    </Layout>\n  );\n};\n\nexport default SettingNumber;\n"],"sourceRoot":""}