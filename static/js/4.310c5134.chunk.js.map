{"version":3,"sources":["pages/Detail/style.js","pages/Detail/index.js","state/rootContext.js","state/connect.js"],"names":["DetailWrap","styled","div","_templateObject","Heading","_templateObject2","theme","size","space","DetailContent","_templateObject3","CardStyle","_templateObject4","CarTitleStyle","_templateObject5","color","primary","CardTitleSubStyle","_templateObject6","NumberStyle","_templateObject7","secondary","connect","values","context","_ref","match","updateStatusWord","wordsToday","params","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","_useState3","_useState4","data","setData","useEffect","url","concat","w","Axios","get","then","res","react_default","a","createElement","components","react_router_dom","to","icon","icons","back","style","textAlign","fontSize","fontWeight","fontFamily","font","family","margin","map","d","key","pron","title","posgram","p","marginLeft","content","c","l","def","display","flex","lineHeight","trans","examp","ex","i","marginBottom","word","find","type","checkWord","block","onClick","status","check","authContext","wordContext","select","Component","props","newProps","forEach","s","state","useContext","rootContext","element","objectSpread","defineProperty","flatProps"],"mappings":"i0CAGA,IAAMA,EAAaC,IAAOC,IAAVC,KAIVC,EAAUH,IAAOC,IAAVG,IAGmB,EAAnBC,IAAMC,KAAKC,OAQlBC,EAAgBR,IAAOC,IAAVQ,IACNJ,IAAMC,KAAKC,MAA8B,EAAnBF,IAAMC,KAAKC,OAGxCG,EAAYV,IAAOC,IAAVU,KAQTC,EAAgBZ,IAAOC,IAAVY,IAGRR,IAAMS,MAAMC,SAGjBC,EAAoBhB,IAAOC,IAAVgB,KAOjBC,EAAclB,IAAOC,IAAVkB,IACDd,IAAMS,MAAMM,mBCoHbC,sBAPA,CACb,CACEC,OAAQ,CAAC,aAAc,oBACvBC,QAAS,gBAIEF,CAlIA,SAAAG,GAA0D,IAAvDC,EAAuDD,EAAvDC,MAAOC,EAAgDF,EAAhDE,iBAAkBC,EAA8BH,EAA9BG,WACjCC,EAAWH,EAAXG,OAD+DC,EAEzCC,oBAAS,GAFgCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEhEK,EAFgEH,EAAA,GAEvDI,EAFuDJ,EAAA,GAAAK,EAI/CN,mBAAS,MAJsCO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAIhEE,EAJgED,EAAA,GAI1DE,EAJ0DF,EAAA,GAevE,GATAG,oBAAU,WACR,IAAMC,EAAG,yCAAAC,OAA4Cd,EAAOe,GAE5DC,IAAMC,IAAIJ,GAAKK,KAAK,SAAAC,GAClBR,EAAQQ,EAAIT,MACZH,GAAW,MAEZ,CAACP,EAAOe,IAEPT,EAAS,OAAOc,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAwBpB,OACEH,EAAAC,EAAAC,cAACnD,EAAD,KACEiD,EAAAC,EAAAC,cAAC/C,EAAD,KACE6C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAG,KACPL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,KAAMC,IAAMC,KAAMlD,KAAM,OAGjCsB,EAAOe,GACNK,EAAAC,EAAAC,cAAA,OACEO,MAAO,CACLC,UAAW,SACXC,SAAU,GACVC,WAAY,IACZC,WAAYxD,IAAMyD,KAAKC,OAAO3C,UAC9B4C,OAAM,GAAAtB,OAAKrC,IAAMC,KAAKC,MAAhB,SAAAmC,OAAgD,EAAnBrC,IAAMC,KAAKC,MAAxC,QAGPqB,EAAOe,GAIZK,EAAAC,EAAAC,cAAC1C,EAAD,KACG8B,EAAK2B,IAAI,SAAAC,GACR,OACElB,EAAAC,EAAAC,cAACxC,EAAD,CAAWyD,IAAKD,EAAEE,MAChBpB,EAAAC,EAAAC,cAACtC,EAAD,KAAgBsD,EAAEG,OAClBrB,EAAAC,EAAAC,cAAClC,EAAD,KACGkD,EAAEI,QAAQL,IAAI,SAAAM,GAAC,OACdvB,EAAAC,EAAAC,cAAA,QAAMiB,IAAKI,GAAIA,KAGjBvB,EAAAC,EAAAC,cAAA,QAAMO,MAAO,CAAEe,WAAY,KAAON,EAAEE,OAErCF,EAAEO,QAAQR,IAAI,SAACS,EAAGC,GAAJ,OACb3B,EAAAC,EAAAC,cAAA,OAAKiB,IAAKO,EAAEE,IAAKnB,MAAO,CAAEO,OAAQ,SAAUa,QAAS,SACnD7B,EAAAC,EAAAC,cAAChC,EAAD,KAAcyD,EAAI,GAClB3B,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEqB,KAAM,IAClB9B,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEG,WAAY,IAAKmB,WAAY,MACxCL,EAAEE,KAEL5B,EAAAC,EAAAC,cAAA,OACEO,MAAO,CACLO,OAAQ,SACRlD,MAAOT,IAAMS,MAAMC,QACnB6C,WAAY,MAGbc,EAAEM,OAELhC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGO,MAAO,CAAEO,OAAQ,SAAUa,QAAS,UACrC7B,EAAAC,EAAAC,cAAA,0BAEDwB,EAAEO,MAAMhB,IAAI,SAACiB,EAAIC,GAAL,OACXnC,EAAAC,EAAAC,cAAA,OACEO,MAAO,CAAE2B,aAAc,GAAIzB,SAAU,IACrCQ,IAAKe,GAFP,GAAAxC,OAIMyC,EAAI,EAJV,MAAAzC,OAIgBwC,cAvEpB,WAChB,IAAMG,EAAOC,eAAK,SAAA3C,GAAC,OAAIA,EAAE0C,OAASzD,EAAOe,GAAGhB,GAC5C,QAAK0D,KAIDA,EAAKE,MAAsB,UAAdF,EAAKE,MA4EjBC,IACCxC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEoC,KAAK,UACLE,OAAK,EACLnF,KAAK,QACLoF,QAAS,kBAAMhE,EAAiBE,EAAOe,KA/FlC2C,eACX,SAAA3C,GAAC,OAAIA,EAAE0C,OAASzD,EAAOe,IAAkB,IAAbA,EAAEgD,QAC9BhE,GA+FkBqB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,KAAMC,IAAMqC,MAAO9E,MAAM,SAAY,iGCzIpDS,EALC,CACdsE,oBACAC,iBCmBazE,IAnBC,SAAA0E,GAAM,OAAI,SAAAC,GAAS,OAAI,SAAAC,GACrC,IAAIC,EAAW,GAEfC,kBAAQ,SAAAC,GACN,GAAIA,EAAE7E,QAAS,KACLD,EAAoB8E,EAApB9E,OAAQC,EAAY6E,EAAZ7E,QAEV8E,EAAQC,qBAAWC,EAAYhF,IACrCD,EAAO6E,QAAQ,SAAAK,GACbN,EAAQlE,OAAAyE,EAAA,EAAAzE,CAAA,GAAQkE,EAARlE,OAAA0E,EAAA,EAAA1E,CAAA,GAAmBwE,EAAUH,EAAMG,SAG9CT,GAEH,IAAMY,EAAS3E,OAAAyE,EAAA,EAAAzE,CAAA,GAAQiE,EAAUC,GAEjC,OAAOlD,EAAAC,EAAAC,cAAC8C,EAAcW","file":"static/js/4.310c5134.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport theme from '../../configs/theme';\n\nconst DetailWrap = styled.div`\n  padding-top: 60px;\n`;\n\nconst Heading = styled.div`\n  display: flex;\n  alignitems: center;\n  padding: ${theme.size.space * 2}px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n`;\n\nconst DetailContent = styled.div`\n  padding: ${theme.size.space}px ${theme.size.space * 2}px;\n`;\n\nconst CardStyle = styled.div`\n  padding: 15px;\n  margin-bottom: 15px;\n  border: 1px solid #eee;\n  background: #fff;\n  border-radius: 5px;\n`;\n\nconst CarTitleStyle = styled.div`\n  font-size: 18px;\n  font-weight: 700;\n  color: ${theme.color.primary};\n`;\n\nconst CardTitleSubStyle = styled.div`\n  border-bottom: 1px solid #eee;\n  padding-bottom: 15px;\n  font-size: 12px;\n  margin-top: 5px;\n`;\n\nconst NumberStyle = styled.div`\n  background: ${theme.color.secondary};\n  height: 20px;\n  width: 20px;\n  border-radius: 20px;\n  line-height: 20px;\n  text-align: center;\n  color: #fff;\n  font-weight: 700;\n  font-size: 12px;\n  margin-right: 15px;\n`;\n\nexport {\n  DetailWrap,\n  Heading,\n  DetailContent,\n  CardStyle,\n  CarTitleStyle,\n  CardTitleSubStyle,\n  NumberStyle\n};\n","import React, { useEffect, useState } from 'react';\nimport { find } from 'lodash/fp';\n\nimport Axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Icon, Loading, Button } from '../../components';\nimport icons from '../../assets/icons';\n\nimport {\n  DetailWrap,\n  Heading,\n  DetailContent,\n  CardStyle,\n  CarTitleStyle,\n  CardTitleSubStyle,\n  NumberStyle\n} from './style';\nimport theme from '../../configs/theme';\nimport connect from '../../state/connect';\n\ntype DetailProps = {\n  match: {\n    params: {\n      w: String\n    }\n  },\n  wordsToday: any,\n  updateStatusWord: Function\n};\n\nconst Detail = ({ match, updateStatusWord, wordsToday }: DetailProps) => {\n  const { params } = match;\n  const [loading, setLoading] = useState(true);\n\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const url = `https://sc5z4.sse.codesandbox.io/word/${params.w}`;\n\n    Axios.get(url).then(res => {\n      setData(res.data);\n      setLoading(false);\n    });\n  }, [params.w]);\n\n  if (loading) return <Loading />;\n\n  const isDone = () => {\n    const word = find(\n      w => w.word === params.w && w.status === true,\n      wordsToday\n    );\n    if (!word) return false;\n    return true;\n  };\n\n  const checkWord = () => {\n    const word = find(w => w.word === params.w, wordsToday);\n    if (!word) {\n      return false;\n    }\n\n    if (word.type && word.type !== 'today') {\n      return false;\n    }\n\n    return true;\n  };\n\n  return (\n    <DetailWrap>\n      <Heading>\n        <Link to=\"/\">\n          <Icon icon={icons.back} size={20} />\n        </Link>\n      </Heading>\n      {params.w && (\n        <div\n          style={{\n            textAlign: 'center',\n            fontSize: 30,\n            fontWeight: 400,\n            fontFamily: theme.font.family.secondary,\n            margin: `${theme.size.space}px 0 ${theme.size.space * 2}px`\n          }}\n        >\n          {params.w}\n        </div>\n      )}\n\n      <DetailContent>\n        {data.map(d => {\n          return (\n            <CardStyle key={d.pron}>\n              <CarTitleStyle>{d.title}</CarTitleStyle>\n              <CardTitleSubStyle>\n                {d.posgram.map(p => (\n                  <span key={p}>{p}</span>\n                ))}\n\n                <span style={{ marginLeft: 10 }}>{d.pron}</span>\n              </CardTitleSubStyle>\n              {d.content.map((c, l) => (\n                <div key={c.def} style={{ margin: '15px 0', display: 'flex' }}>\n                  <NumberStyle>{l + 1}</NumberStyle>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontWeight: 700, lineHeight: 1.3 }}>\n                      {c.def}\n                    </div>\n                    <div\n                      style={{\n                        margin: '10px 0',\n                        color: theme.color.primary,\n                        fontWeight: 700\n                      }}\n                    >\n                      {c.trans}\n                    </div>\n                    <div>\n                      <b style={{ margin: '15px 0', display: 'block' }}>\n                        <small>Example:</small>\n                      </b>\n                      {c.examp.map((ex, i) => (\n                        <div\n                          style={{ marginBottom: 10, fontSize: 14 }}\n                          key={ex}\n                        >\n                          {`${i + 1}. ${ex}`}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </CardStyle>\n          );\n        })}\n\n        {checkWord() && (\n          <Button\n            type=\"primary\"\n            block\n            size=\"large\"\n            onClick={() => updateStatusWord(params.w)}\n          >\n            {isDone() ? <Icon icon={icons.check} color=\"#fff\" /> : 'Done'}\n          </Button>\n        )}\n      </DetailContent>\n    </DetailWrap>\n  );\n};\n\nconst select = [\n  {\n    values: ['wordsToday', 'updateStatusWord'],\n    context: 'wordContext'\n  }\n];\n\nexport default connect(select)(Detail);\n","import wordContext from './wordContext';\nimport authContext from './authContext';\n\nconst context = {\n  authContext,\n  wordContext\n};\n\nexport default context;\n","// @flow\nimport { forEach } from 'lodash/fp';\nimport React, { useContext } from 'react';\nimport rootContext from './rootContext';\n\nconst connect = select => Component => props => {\n  let newProps = {};\n\n  forEach(s => {\n    if (s.context) {\n      const { values, context } = s;\n\n      const state = useContext(rootContext[context]);\n      values.forEach(element => {\n        newProps = { ...newProps, [element]: state[element] };\n      });\n    }\n  }, select);\n\n  const flatProps = { ...props, ...newProps };\n\n  return <Component {...flatProps} />;\n};\n\nexport default connect;\n"],"sourceRoot":""}