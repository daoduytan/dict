{"version":3,"sources":["pages/WordsDone/useHooks.js","pages/WordsDone/index.js","state/rootContext.js","state/connect.js","pages/Homepage/Word.js","components/HeadingScreen/index.js","pages/Homepage/style.js"],"names":["ref","firestore","collection","enhance","connect","values","context","_ref","_useWordsDone","user","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","_useState3","_useState4","words","setWords","useEffect","uid","where","onSnapshot","docSnapshot","wordsDone","forEach","docs","push","data","useWordsDone","_useWordsDone2","react_default","a","createElement","components","width","concat","length","Fragment","HeadingScreen","title","style","padding","lineHeight","height","background","theme","color","secondary","borderRadius","position","overflow","display","alignItems","justifyContent","primary","left","zIndex","fontSize","fontWeight","fontFamily","font","family","map","w","i","Word","key","word","objectSpread","number","type","authContext","wordContext","select","Component","props","newProps","s","state","useContext","rootContext","element","defineProperty","flatProps","ref1","updateTypeDate","_Users_daoduytan_Documents_Projects_dict_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","setW","console","log","react__WEBPACK_IMPORTED_MODULE_2___default","_style__WEBPACK_IMPORTED_MODULE_7__","to","status","text","top","right","bottom","_components__WEBPACK_IMPORTED_MODULE_3__","icon","icons","check","size","onClick","newType","doc","get","then","snapshot","empty","id","update","_Users_daoduytan_Documents_Projects_dict_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","add","role","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","___WEBPACK_IMPORTED_MODULE_2__","_assets_icons__WEBPACK_IMPORTED_MODULE_3__","history","goBack","back","defaultProps","withRouter","WordLine","styled","Link","_templateObject","border","HeadingWrap","div","_templateObject2","space","_templateObject3"],"mappings":"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","file":"static/js/4.a4302361.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { firestore } from '../../api';\n\nconst ref = firestore.collection('words_done');\n\nconst useWordsDone = user => {\n  const [loading, setLoading] = useState(true);\n  const [words, setWords] = useState([]);\n\n  useEffect(() => {\n    const { uid } = user;\n\n    ref.where('uid', '==', uid).onSnapshot(docSnapshot => {\n      const wordsDone = [];\n      setLoading(true);\n      docSnapshot.forEach(docs => wordsDone.push(docs.data()));\n\n      setWords(wordsDone);\n      setLoading(false);\n    });\n  }, [user]);\n\n  return [loading, words];\n};\n\n// eslint-disable-next-line\nexport { useWordsDone };\n","import React from 'react';\nimport HeadingScreen from '../../components/HeadingScreen';\nimport { useWordsDone } from './useHooks';\nimport connect from '../../state/connect';\nimport { Loading } from '../../components';\nimport Word from '../Homepage/Word';\nimport theme from '../../configs/theme';\n\nconst WordsDone = ({ user }: { user: any }) => {\n  const [loading, words] = useWordsDone(user);\n\n  if (loading) return <Loading />;\n\n  const width = `${(words.length / 3000) * 100}%`;\n\n  return (\n    <>\n      <HeadingScreen title=\"Words done\" />\n\n      <div style={{ padding: '10px 30px 20px' }}>\n        <h2 style={{ lineHeight: 1.5 }}>I have been learned vocabulary</h2>\n\n        <div\n          style={{\n            height: 50,\n            background: theme.color.secondary,\n            borderRadius: 10,\n            position: 'relative',\n            overflow: 'hidden',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <div\n            style={{\n              width,\n              height: 50,\n              background: theme.color.primary,\n              position: 'absolute',\n              left: 0\n            }}\n          ></div>\n          <span\n            style={{\n              position: 'relative',\n              zIndex: 10,\n              fontSize: 20,\n              fontWeight: 700,\n              fontFamily: theme.font.family.secondary\n            }}\n          >{`${words.length}/3000`}</span>\n        </div>\n      </div>\n\n      <div>\n        {words.map((w, i) => (\n          <Word\n            key={w.word}\n            word={{ ...w, number: i, type: 'month' }}\n            type=\"month\"\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nconst enhance = connect([{ values: ['user'], context: 'authContext' }]);\n\nexport default enhance(WordsDone);\n","import wordContext from './wordContext';\nimport authContext from './authContext';\n\nconst context = {\n  authContext,\n  wordContext\n};\n\nexport default context;\n","// @flow\nimport { forEach } from 'lodash/fp';\nimport React, { useContext } from 'react';\nimport rootContext from './rootContext';\n\nconst connect = select => Component => props => {\n  let newProps = {};\n\n  forEach(s => {\n    if (s.context) {\n      const { values, context } = s;\n\n      const state = useContext(rootContext[context]);\n      values.forEach(element => {\n        newProps = { ...newProps, [element]: state[element] };\n      });\n    }\n  }, select);\n\n  const flatProps = { ...props, ...newProps };\n\n  return <Component {...flatProps} />;\n};\n\nexport default connect;\n","import React, { useState } from 'react';\n\nimport { Icon } from '../../components';\nimport icons from '../../assets/icons';\nimport { firestore } from '../../api';\nimport theme from '../../configs/theme';\nimport { WordLine } from './style';\nimport connect from '../../state/connect';\n\nconst ref = firestore.collection('user');\nconst ref1 = firestore.collection('words_done');\n\ntype WordProps = {\n  word: {\n    word: String,\n    status: String,\n    number: Number,\n    id: String\n  },\n  user: {\n    uid: String\n  },\n  type: String,\n  updateTypeDate: Function\n};\n\nconst Word = ({ word, type, user, updateTypeDate }: WordProps) => {\n  const [w, setW] = useState(word);\n\n  const { uid } = user;\n\n  console.log('user', uid);\n\n  const handleChangeType = () => {\n    const newType = () => {\n      if (type === 'today') {\n        return 'day';\n      }\n      if (type === 'day') {\n        return 'week';\n      }\n      if (type === 'week') {\n        return 'month';\n      }\n\n      return 'day';\n    };\n\n    ref\n      .doc(uid)\n      .collection('word_today')\n      .where('word', '==', w.word)\n      .get()\n      .then(snapshot => {\n        if (snapshot.empty) {\n          return null;\n        }\n\n        return snapshot.forEach(doc => {\n          ref\n            .doc(uid)\n            .collection('word_today')\n            .doc(doc.id)\n            .update({\n              type: newType()\n            });\n        });\n      });\n\n    setW({ ...w, type: newType() });\n\n    updateTypeDate({ ...w, type: newType() });\n\n    if (type === 'today') {\n      ref1.add({ ...word, uid, type: newType() });\n    } else {\n      ref1\n\n        .where('uid', '==', user.uid)\n        .get()\n        .then(snapshot => {\n          if (snapshot.empty) {\n            return null;\n          }\n\n          return snapshot.forEach(doc => {\n            ref1.doc(doc.id).update({\n              type: newType()\n            });\n          });\n        });\n    }\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <WordLine\n        to={`/word/${w.word}`}\n        key={w.word}\n        style={{\n          color: w.status ? theme.color.primary : theme.color.text\n        }}\n      >\n        <span>{w.number + 1}.</span>\n        {w.word}\n      </WordLine>\n\n      {w.status && w.type !== type && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            padding: '0 15px',\n            display: 'flex',\n            alignItems: 'center'\n          }}\n        >\n          <Icon icon={icons.check} size={20} color={theme.color.secondary} />\n        </div>\n      )}\n\n      {w.status && w.type === type && w.type !== 'month' && (\n        <div\n          onClick={handleChangeType}\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            padding: '0 15px',\n            display: 'flex',\n            alignItems: 'center'\n          }}\n          role=\"presentation\"\n        >\n          <Icon icon={icons.right} size={20} color={theme.color.primary} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst select = [\n  { values: ['user'], context: 'authContext' },\n  {\n    values: ['updateTypeDate'],\n    context: 'wordContext'\n  }\n];\n\nexport default connect(select)(Word);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { Icon } from '..';\nimport icons from '../../assets/icons';\n\ntype HeadingScreenProps = { title?: String, history: { goBack: Function } };\n\nconst HeadingScreen = ({ title, history }: HeadingScreenProps) => {\n  const goBack = () => history.goBack();\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      }}\n    >\n      <div\n        style={{\n          height: 70,\n          width: 60,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n        onClick={goBack}\n        role=\"presentation\"\n      >\n        <Icon icon={icons.back} />\n      </div>\n\n      <div style={{ fontSize: 18, fontWeight: 600 }}>{title}</div>\n\n      <div style={{ height: 50, width: 50 }}></div>\n    </div>\n  );\n};\n\nHeadingScreen.defaultProps = {\n  title: 'Title'\n};\n\nexport default withRouter(HeadingScreen);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport theme from '../../configs/theme';\n\nconst WordLine = styled(Link)`\n  height: 70px;\n  display: flex;\n  align-items: center;\n  font-size: 25px;\n  font-weight: 700;\n  padding: 15px;\n  border-bottom: 1px solid ${theme.color.border};\n  font-family: ${theme.font.family.secondary};\n\n  span {\n    text-align: center;\n    display: inline-block;\n    width: 50px;\n    margin-right: 30px;\n    color: rgba(0, 0, 0, 0.4);\n  }\n`;\n\nconst HeadingWrap = styled.div`\n  // background: ${theme.color.primary};\n  // color: #fff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: ${theme.size.space + 5}px ${theme.size.space * 2}px\n    ${theme.size.space - 5}px ${theme.size.space * 2}px;\n    \n`;\n\nconst Button = styled.div`\n  border: 1px solid ${theme.color.border};\n  height: 40px;\n  padding: 0 15px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background: #fff;\n`;\n\nexport { WordLine, HeadingWrap, Button };\n"],"sourceRoot":""}